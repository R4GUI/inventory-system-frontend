<!-- add-product-dialog.component.html -->
<form [formGroup]="productForm" (ngSubmit)="onSubmit()">
  <div class="mb-3">
    <label class="form-label">Nombre del Producto</label>
    <input type="text" 
           class="form-control" 
           formControlName="productos"
           [class.is-invalid]="productForm.get('productos')?.invalid && productForm.get('productos')?.touched">
    <div class="invalid-feedback" *ngIf="productForm.get('productos')?.errors?.['required']">
      El nombre es requerido
    </div>
  </div>

  <div class="mb-3">
    <label class="form-label">Unidad de Medida</label>
    <select class="form-select" 
            formControlName="um"
            [class.is-invalid]="productForm.get('um')?.invalid && productForm.get('um')?.touched">
      <option value="">Seleccionar</option>
      <option *ngFor="let um of unidadesMedida" [value]="um">{{um}}</option>
    </select>
    <div class="invalid-feedback" *ngIf="productForm.get('um')?.errors?.['required']">
      La unidad de medida es requerida
    </div>
  </div>

  <div class="mb-3">
    <label class="form-label">Peso</label>
    <input type="number" 
           class="form-control" 
           formControlName="peso" 
           step="0.01"
           [class.is-invalid]="productForm.get('peso')?.invalid && productForm.get('peso')?.touched">
    <div class="invalid-feedback" *ngIf="productForm.get('peso')?.errors?.['required']">
      El peso es requerido
    </div>
    <div class="invalid-feedback" *ngIf="productForm.get('peso')?.errors?.['min']">
      El peso debe ser mayor a 0
    </div>
  </div>

  <div class="mb-3">
    <label class="form-label">Tipo</label>
    <select class="form-select" 
            formControlName="tipo"
            [class.is-invalid]="productForm.get('tipo')?.invalid && productForm.get('tipo')?.touched">
      <option value="">Seleccionar</option>
      <option *ngFor="let tipo of tipos" [value]="tipo">{{tipo}}</option>
    </select>
    <div class="invalid-feedback" *ngIf="productForm.get('tipo')?.errors?.['required']">
      El tipo es requerido
    </div>
  </div>

  <div class="mb-3">
    <label class="form-label">Cantidad Inicial</label>
    <input type="number" 
           class="form-control" 
           formControlName="cantidad"
           [class.is-invalid]="productForm.get('cantidad')?.invalid && productForm.get('cantidad')?.touched">
    <div class="invalid-feedback" *ngIf="productForm.get('cantidad')?.errors?.['required']">
      La cantidad es requerida
    </div>
    <div class="invalid-feedback" *ngIf="productForm.get('cantidad')?.errors?.['min']">
      La cantidad debe ser mayor a 0
    </div>
  </div>

  <div class="mb-3">
    <label class="form-label">Precio Unitario</label>
    <div class="input-group">
      <span class="input-group-text">$</span>
      <input type="number" 
             class="form-control" 
             formControlName="precio_unit" 
             step="0.01"
             [class.is-invalid]="productForm.get('precio_unit')?.invalid && productForm.get('precio_unit')?.touched">
    </div>
    <div class="invalid-feedback" *ngIf="productForm.get('precio_unit')?.errors?.['required']">
      El precio es requerido
    </div>
    <div class="invalid-feedback" *ngIf="productForm.get('precio_unit')?.errors?.['min']">
      El precio debe ser mayor a 0
    </div>
  </div>

  <div class="d-flex justify-content-end gap-2">
    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
    <button type="submit" class="btn btn-primary" [disabled]="!productForm.valid">Guardar</button>
  </div>
</form>